const vapiidget = document.createElement('vapi-widget');
vapiidget.setAttribute('assistant-id', 'f7dca42b-56dc-4da2-ad94-9490f2707e6d');
vapiidget.setAttribute('public-key', '3f316145-e21e-4681-9bf0-7479538e1e33');

const currentScript = document.currentScript;
if (currentScript) {
    const attributes = currentScript.attributes;
    for (let i = 0; i < attributes.length; i++) {
        const attr = attributes[i];
        vapiidget.setAttribute(attr.name, attr.value);
    }
    if(!currentScript.attributes.cta_title) {
        vapiidget.setAttribute('cta-title', 'Talk with Us');
    }
    if(!currentScript.attributes.size) {
        vapiidget.setAttribute('size', 'compact');
    }
    if(!currentScript.attributes.mode) {
        vapiidget.setAttribute('mode', 'hybrid');
    }
    if(!currentScript.attributes['voice-show-transcript']) {
        vapiidget.setAttribute('voice-show-transcript', 'true');
    }
    if (!currentScript.attributes.title) {
        vapiidget.setAttribute("title", "Talk with Us");
    }
}

const script = document.createElement('script');
script.src = 'https://static.readdy.ai/assistant/widget.umd.js';
script.async = true;
script.type = 'text/javascript';
document.body.appendChild(vapiidget);
document.body.appendChild(script);
